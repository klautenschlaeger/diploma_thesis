\documentclass[]{nsm-thesis}
% options:
% [germanthesis] - Thesis is written in German
% [plainunnumbered] - Don't print numbers on plain pages
% [earlydraft] - Settings for quick draft printouts
% [watermark] - Print current time/date at bottom of each page
% [phdthesis] - switch to PhD thesis style
% [twoside] - double sided
% [cutmargins] - text body fills complete page

% Author name. Separate multiple authors with commas.

\usetikzlibrary{quotes,angles}
\usepackage{nicefrac}
\usepackage{comment}
\usetikzlibrary{shapes, arrows, positioning}

\author{Karl Christian Lautenschläger}
\birthday{29. Juni 1998}
\birthplace{Magdeburg}

% Title of your thesis.
\title{Suitability of Modern Wi-Fi for Wireless-Infield-Communication of Agricultural Machines}

% Choose one of the following lines, changing the word "Computer Science" to match your degree program.
\thesistype{Diploma Thesis in Information Systems Engineering}\thesiscite{Diploma Thesis~(Diplomarbeit)}

\advisors{Christoph Sommer}
% List of advisors (without academic titles), separated by commas.

% List of referees (without academic titles), separated by commas.
\referees{Christoph Sommer, Burkhard Hensel}

\DeclareAcronym{FH}{
	short=FH,
	long=Forage Harvester,
}
\DeclareAcronym{CH}{
	short=CH,
	long=Combine Harvester,
}
\DeclareAcronym{GPS}{
	short=GPS,
	long=Global Positioning System,
}
\DeclareAcronym{STA}{
	short=STA,
	long=station,
}
\DeclareAcronym{IFS}{
	short=IFS,
	long=Interframe Space,
}
\DeclareAcronym{TM}{
	short=TM,
	long=Transport Machine,
}
\DeclareAcronym{BCC}{
	short=BCC,
	long=binary convolutional coding,
}
\DeclareAcronym{RTS}{
	short=RTS,
	long=Request-to-Send,
}
\DeclareAcronym{CTS}{
	short=CTS,
	long=Clear-to-Send,
}
\DeclareAcronym{ER}{
	short=ER,
	long=Extended Range,
}
\DeclareAcronym{MU}{
	short=MU,
	long=Multi-User,
}
\DeclareAcronym{SU}{
	short=SU,
	long=Single-User,
}
\DeclareAcronym{LDPC}{
	short=LDPC,
	long=low-density parity-check,
}
\DeclareAcronym{HT}{
	short=HT,
	long=High-Throughput,
}
\DeclareAcronym{VHT}{
	short=VHT,
	long=Very-High-Throughput,
}
\DeclareAcronym{HE}{
	short=HE,
	long=High-Efficiency,
}
\DeclareAcronym{PER}{
	short=PER,
	long=packet error rate,
}
\DeclareAcronym{BW}{
	short=BW,
	long=Bandwidth,
}
\DeclareAcronym{FEC}{
	short=FEC,
	long=Forward Error Correction,
}
\DeclareAcronym{WPA}{
	short=WPA,
	long=Wi-Fi Protected Access,
}

\DeclareAcronym{DCF}{
	short=DCF,
	long=Distribution Coordination Function,
}
\DeclareAcronym{DIFS}{
	short=DIFS,
	long=Distributed Coordination Function Interframe Space,
}
\DeclareAcronym{SSID}{
	short=SSID,
	long=Service Set Identifier,
}
\DeclareAcronym{SIFS}{
	short=SIFS,
	long=Short Interframe Space,
}
\DeclareAcronym{ACK}{
	short=ACK,
	long=Acknowledgement,
}
\DeclareAcronym{NAV}{
	short=NAV,
	long=Network Allocation Vector,
}
\DeclareAcronym{PCF}{
	short=PCF,
	long=Point Coordination Function,
}
\DeclareAcronym{CSMACA}{
	short=CSMA/CA,
	long=Carrier Sense Multiple
	Access/Collision Avoidance,
}

\DeclareAcronym{IBSS}{
	short=IBSS,
	long=Independent Basic Service Set,
}
\DeclareAcronym{AP}{
	short=AP,
	long=Access Point,
}
\DeclareAcronym{PD}{
	short=PD,
	long=Plant Density,
}
\DeclareAcronym{WIC}{
	short=WIC,
	long=Wireless-Infield Communication,
}
\DeclareAcronym{M2M}{
	short=M2M,
	long=Machine-To-Machine,
}

\DeclareAcronym{MIMO}{
	short=MIMO,
	long=Multiple Input Multiple Output,
}
\DeclareAcronym{STBC}{
	short=STBC,
	long=Space-Time-Block-Code,
}
\DeclareAcronym{PPDU}{
	short=PPDU,
	long=Physical layer convergence protocol data unit,
}
\DeclareAcronym{MCS}{
	short=MCS,
	long=Modulation
	and Coding Scheme,
}
\DeclareAcronym{CR}{
	short=CR,
	long=Coding Rate,
}
\DeclareAcronym{GI}{
	short=GI,
	long=Guard Interval,
}
\DeclareAcronym{DCM}{
	short=DCM,
	long=Dual Carrier Modulation,
}
\DeclareAcronym{MANET}{
	short=MANET,
	long=Mobile Ad Hoc Network
	and Coding Scheme,
}  

\DeclareAcronym{ASC}{
	short=ASC,
	long=Automatic Section Control,
}
\DeclareAcronym{m-ASC}{
	short=m-ASC,
	long=Meshed Automatic Section Control,
}
\DeclareAcronym{AEF}{
	short=AEF,
	long=Agricultural Industry Electronics Foundation,
}
\DeclareAcronym{FMIS}{
	short=FMIS,
	long=Farm Management Information System,
}
\DeclareAcronym{hTMM}{
	short=hTMM,
	long=Hybrid Threat Modeling Method,
}
\DeclareAcronym{STRIDE}{
	short=STRIDE,
	long= Spoofing\, Tampering\, Repudiation\, Information disclosure\, Denial of services\, and Escalation
	of privileges,
}
\DeclareAcronym{PASTA}{
	short=PASTA,
	long= Process for Attack Simulation and Threat Analysis,
}

\DeclareAcronym{ac}{
	short=802.11ac,
	long= IEEE 802.11ac,
}

\DeclareAcronym{ax}{
	short=802.11ax,
	long= IEEE 802.11ax,
}

\DeclareAcronym{UDP}{
	short=UDP,
	long= User Datagram Protocol,
}

\DeclareAcronym{OFDMA}{
	short=OFDMA,
	long= Orthogonal Frequency-Division Multiple Access,
}
\DeclareAcronym{OFDM}{
	short=OFDM,
	long= Orthogonal Frequency-Division Multiplexing,
}
\DeclareAcronym{RU}{
	short=RU,
	long= Resource Unit,
}
\DeclareAcronym{SINR}{
	short=SINR,
	long= Signal-to-Interference-plus-Noise Ratio,
}
\DeclareAcronym{QAM}{
	short=QAM,
	long=Quadrature Amplitude Modulation,
}
\DeclareAcronym{PSK}{
	short=PSK,
	long=Phase Shift Keying,
}
\DeclareAcronym{RSS}{
	short=RSS,
	long=Received Signal Strength,
}
\DeclareAcronym{LoS}{
	short=LoS,
	long=Line-Of-Sight,
}
\DeclareAcronym{SNR}{
	short=SNR,
	long=Signal Noise Ratio,
}
\DeclareAcronym{PDR}{
	short=PDR,
	long=Packet Delivery Ratio,
}
\DeclareAcronym{LOS}{
	short=LOS,
	long=Line-of-sight,
}
\DeclareAcronym{ESS}{
	short=ESS,
	long=Extended Service Set,
}
\DeclareAcronym{BSS}{
	short=BSS,
	long=Basic Service Set,
}
\DeclareAcronym{V2X}{
	short=V2X,
	long=Vehicle-to-everything,
}
\DeclareAcronym{EDCA}{
	short=EDCA,
	long=Enhanced Distributed Channel Access,
}



% Define abbreviations used in the thesis here.
\acrodef{WSN}{Wireless Sensor Network}

\acrodef{ROI}{Region of Interest}{short-indefinite={an}, long-plural-form={Regions of Interest}}
\acrodef{ADAC}{German Automobile Association}{foreign={Allgemeiner Deutscher Automobilclub}}
\acrodef{CANhashing}[CAN]{Content Addressable Network}{extra={when referring to the distributed hash table}}
\acrodef{CANproto}[CAN]{Controller Area Network}{extra={when referring to the bus protocol}}

\begin{document}

\pagenumbering{roman}

\maketitle

\cleardoublepage

\TODO{This template is for use with \texttt{pdflatex} and \texttt{biber}. It has been tested with TeX~Live 2020 (as of 25 Oct 2020).}

\input{abstract}



\tableofcontents
\TODO{The table of contents should fit on one page. When in doubt, adjust the \texttt{tocdepth} counter.}

\cleardoublepage
\pagenumbering{arabic}


\chapter{Introduction}
%\chapter{Einleitung}
\label{sec:introduction}
\input{introduction}

\chapter{Fundamentals}
\label{sec:fundamentals}



\begin{itemize}
\item describe methods and techniques that build the basis of your work
\item include what's needed to understand your work (e.g., techniques, protocols, models, hardware, software, ...)
\item exclude what's not (e.g., anything you yourself did, anything your reader can be expected to know, ...)
\item review related work(!)
\item recommended length: approximately one third of the thesis.
\end{itemize}

\section{\acl{WIC}}

\input{wic}

\input{cornHarvest}

\section{Wireless Lans according to IEEE 802.11}
According to \textcite{kauffels_wireless_2002} the first version of the Standard IEEE 802.11 was published in 1999 to enable a wireless alternative to Ethernet - or Token-Ring - networks.
\textcite{sauter_wireless_2022} considers IEEE 802.11 also to be an implementation of Ethernet with the help of wirless radio technologies.
The author lists the extensions to the original standard, which range from 802.11b, 802.11g, 802.11a, 802.11n, 802.11ac to the latest enhancement 802.11ax. The different IEEE 802.11 standards can operate in the  \SI{2.4}{\giga\hertz} - , \SI{5}{\giga\hertz} and \SI{6}{\giga\hertz} - frequency band.
IEEE 802.11n is also known as \ac{HT} Wi-Fi, IEEE 802.11ac as \ac{VHT} Wi-Fi \cite{noauthor_ieee_2021-1} and IEEE 802.11ax as \ac{HE} Wi-Fi \cite{noauthor_ieee_2021}. The standards are known by these names. In addition, they are also called Wi-Fi 4, Wi-Fi 5 and Wi-Fi 6 respectively.
\textcite{jacob_system-level_2020} fügt dazu noch hinzu, dass es zusätzlich noch die zwei Erweiterungen IEEE 802.11p and dessen Nachfolger IEEE 802.11bd gibt. Diese operieren in einem reservierten Frequency spectrum for \ac{V2X} nach den Autoren im  \SI{5.9}{\giga\hertz} frequency spectrum

\textcite{kauffels_wireless_2002} defines the following three basic architectures for IEEE 802.11.

If two or more stations communicate directly without an AP, they form an ad hoc network. According to the author, this can be set up quickly and easily and is also called \ac{IBSS}.

The Infrastructure \ac{BSS} mode allows all stations within the range of defined range around the \ac{AP} to communicate via a central \ac{AP}. Within the area of the \ac{BSS}, all stations can move freely and communicate with one another.

Since an \ac{AP} has limited range and can only cover a certain area, the \ac{ESS} was introduced. It contains a distribution system, which links several \ac{BSS} with each other.

Thereby, the BSS coverage areas can physically overlap so that continuous connection of stations within the ESS can be provided. For a better performance the \ac{BSS} can be placed physically on top of each other. One can also have physically separate \ac{BSS}s so that these \ac{BSS}s can be linked together over long distances. According to the author, the standard does not specify a distance limit for such connections. 

He also mentions, that the standard defines the following three mobility types for station in an \ac{ESS}, where a station can do no-transition and thereby stay within a \ac{BSS}, \ac{BSS}-transitioning and move from one \ac{BSS} to another \ac{BSS} within the same \ac{ESS} and \ac{ESS}-transition, where the Station moves from a \ac{ESS} to another one but no stable connection can be guaranteed.

\textcite{sauter_wireless_2022} adds, that usually Ethernet is used to link \ac{AP}s in within an \ac{ESS}. But according to the author this can be replaced by a wireless connection, which is called wireless bridge.

To enable communication between Wifi devices, the IEEE 802.11 standard defines the following layers of the OSI model. The first layer is the physical layer.


\input{wiFiphy}

\input{wifiMac}




%\input{80211ax_ac}

\begin{comment}
	\section{Modell für drahtlose Übertragungssysteme}
Abb 2.3.1  Modell einen Übertragungssystems
Beschränkungen und Regelungen Frequenzwahl, Sendeleistung
Analoger Kanal Störungen: thermisches Rauschen, Nebensprechen, Impulsstörungen
\fi

\end{comment}

\section{Related Work}
\input{relatedWorkWIC}


\input{cornHarvestData}

\chapter{Field Measurements}

\begin{comment}
	Netcat not working no interval but connection setup easy. maybe something else

iperf run unlimited?


\end{comment}

\input{fieldexperiment}



\begin{comment}
Describe Mistakes?

\end{comment}

\begin{comment}
\chapter{Developed architecture / System design / Implementation / ...}

\begin{itemize}
\item describe everything you yourself did (as opposed to the fundamentals chapter, which explains what you built on)
\item start with a theoretical approach
\item describe the developed system/algorithm/method from a high-level point of view
\item go ahead in presenting your developments in more detail
\item recommended length: approximately one third of the thesis.
\end{itemize}
\end{comment}


\chapter{Link - Level - Simulation}
As every used Wi-Fi device in the field experiment runs a Wi-Fi rate manager, which is responsible for the rate adaptation, the influence of
a particular physical layer parameter on the goodput, robustness and latency can not be examined in the field experiment.
The Milesight Router was only capable to IEEE 802.11ac physical layer parameters, which don't include the new physical layer parameters of IEEE 802.11ax:
\ac{ER} mode, longer \ac{GI}s, HE-\ac{MCS} \numrange{9}{11} or \ac{DCM}.
Therefore, I simulated the influence of the different physical layer parameters on the goodput, robustness and latency.
Simulations benefit from the flexibility and possibility of simulating different communication and network protocols \cite{kumar_simulators_2012}.


\textcite{omar_survey_2016} adds that simulation is also the main evaluation method for IEEE 802.11ax networks, which the IEEE 802.11ax task group considers.

The authors distinguish between link-level and system-level simulations for simulating \ac{HE} wireless networks.
The authors explain both methods as follows.

Link-level simulations, according to the authors,
investigate the performance of the HE physical layer for different physical layer parameters as \ac{PER} in terms of \ac{SNR}.
As an example, the authors cite multiple different researchers, which simulated \ac{PER} regarding \ac{SNR} and chosen \ac{MCS}.
Link-level simulations are usually visualised in so-called waterfall plots, which represent the \ac{PER} regarding \ac{SNR} for
different physical layer parameters.

For system-level simulation, it requires abstractions of the physical and MAC layers to simulate a system close to
real on this basis.

For the simulation of Wi-Fi, various tools are already available, such as Matlab, ns-2 and ns-3, OMNeT++, Qualnet \cite{keller_simulation_2021} or OPNet \cite{kumar_simulators_2012}.

\textcite{kumar_simulators_2012} compares different available simulators for the simulation of wireless networks and concludes that, in general, ns-2, ns-3 and OMNeT++ are the most popular simulators for academic research of wireless networks.
\textcite{keller_simulation_2021} mentions that ns-3 keeps a more accurate Implementation of the IEEE 802.11 standard than OMNeT++.
So far, I know that OMNeT++ supports some IEEE 802.11ac modes via the library INET Release 4.0.0 \footnote{\url{https://inet.omnetpp.org/2018-06-28-INET-4.0.0-released.html}}.
Therefore, OMNeT++ seems unsuitable for IEEE 802.11ax simulations.

 
\subsubsection*{ns-3 Network Simulator}

Ns-3 is well documented in the ns-3 manual in the \textit{./doc} - folder of  \cite{nsnam_ns-3_nodate}, where I found the following information about the simulator.
Ns-3 is a discrete-event network simulator project which was founded in 2006.
The ns-3 project is open source with a licence based on n GNU GPLv2 compatibility.
It aims to provide an open, extensible network simulator for research and educational use.
Ns-3 scripts can be written in C++ or Python.

The concept of ns3 is based on the abstraction of simulated systems.
For this purpose, the term node was introduced for basic computing devices.
The Node class offers the possibility of installing protocol stacks and applications or adding peripheral cards and mobility models to the node.
Applications are the abstraction of the user-level applications, representing an activity to be simulated.
For this purpose, the applications use resources and functionalities provided by the system software of a node.

Every node gets network access via the Net Device class.
The Net Device class represents the physical interface of a node,
which can be a network interface card or peripheral card.
The Net Device simulates the software driver and the network interface hardware.

Every Net Device is connected to a channel.
The channel class represents the physical medium which is used to transmit data.
The channel behaviour is based
on the channel model, which may include interference, propagation delay and loss.

The current version ns-3.37 supports IEEE 802.11ax as a standard in infrastructure and ad-hoc mode \footnote{\url{https://www.nsnam.org/docs/models/html/wifi-design.html}}.
However, support for the 802.11ax standard is not yet complete.
It is already possible to configure \ac{DCM} and \ac{STBC},
but there is a comment in line 496 of the file \textit{he-ppdu.cc} that these are
not yet taken into account in the current ns-3 version 3.37 \footnote{\url{https://www.nsnam.org/docs/models/html/wifi-user.html}}.

When examining the implementation of 802.11ax in ns-3, one notices that the implementation of 802.11ax in ns-3 already implements a HE ER SU \ac{PPDU} preamble, but this is never used, and one cannot activate the extended range mode.
Therefore, some open points of 802.11ax in ns-3 still need to be implemented.

\textcite{black_netsimulyzer_2021} have developed a 3D visualisation of ns-3, which visualises the simulations in 3D to make the ns-3 simulation
scenarios tangible.
The authors' graphical extension consists of two open source programmes.
The NetSimulyzer ns-3 module \footnote{https://github.com/usnistgov/NetSimulyzer-ns3-module} can be integrated into the ns-3 simulation and builds a JSON file using the specified functions and configurations.
This file contains all the data required for visualisation in the application NetSimulyzer \footnote{\url{https://github.com/usnistgov/NetSimulyzer}}.


Nevertheless, ns-3 is chosen as a simulation tool for the simulation of 802.11ax by \cite{dolinska_new_2019}, \cite{rochim_performance_2020} and
\cite{behara_performance_2022}.

\input{dataRate}

\input{robustness}

\section{Link - Level - Simulation Evaluation}

The past two sections gave an overview of impact of the different parameters on the achievable goodput and robustness of the IEEE 802.11ax standard.
Both simulations were based on nearly ideal conditions, where the channel was not affected by any interference from other devices.

The results show the complex interplay of the different parameters in regards of the achievable goodput and robustness.
Every mentioned parameter can be set to have the highest possible data rate, which may lead to a low robustness and vice versa.
When the communication link is less robust, more retransmissions are required, which may to a lower goodput.
When configured data rate is too low, the goodput is also reduced.

As every application has different requirements on
latency, range, robustness and goodput, the parameters can be configured accordingly.

In general, modern Wi-Fi offer a variety of different parameters, to achieve the best possible performance for the specific application.
The new IEEE 802.11ax \ac{ER} mode combined with \ac{DCM} offers the highest robustness at low \ac{SNR}s according to my simulations, which can
be used for long range applications.

To deal with inter-symbol interferences due to multipath effects, which were considered as the main reason for a high \ac{PER} in wi-fi outdoor networks by
\cite{sheth_packet_2007} and \cite{aguayo_link-level_2004}, IEEE 802.11ax offers longer \ac{GI}s of up to \SI{3200}{\nano\second}.
My simulations show that \ac{GI} of \SI{3200}{\nano\second} is more robust against multipath effects than \ac{GI} of \SI{800}{\nano\second}, but
reduces the theoretical achievable data rate.

Since IEEE 802.11n, the robustness of the communication link can be increased by applying \ac{STBC}.
But same as the IEEE 802.11ax \ac{DCM} mode, the
increased robustness comes at the cost of a reduced theoretical data rate.

The following chapter analyses the impact of the different physical layer parameters on the latency of the Application Layer.

\begin{comment} 
Fixed Wifi 6 devices: 4 Streams, 2.4, 5.0 Ghz
Fixed Wifi bd devices: 1 Stream, 5.9 Ghz,

Leave it open for future work?
look for different chips?

Auf different paper stützen?


\end{comment}
\chapter{Application - Level - Simulation}


\input{platooning}
\begin{comment}
	\chapter{Evaluation}


\begin{itemize}
\item measurement setup / results / evaluation / discussion
\item whatever you have done, you must comment it, compare it to other systems, evaluate it
\item usually, adequate graphs help to show the benefits of your approach
\item each result/graph must not only be described, but also discussed (What's the reason for this peak? Why have you observed this effect? What does this tell about your architecture/system/implementation?)
\item recommended length: approximately one third of the thesis.
\end{itemize}
\end{comment}



\input{conclusion}

\cleardoublepage

\listofabbreviations
\clearpage

\listoffigures
\clearpage

\listoftables
\clearpage

\printbibliography

\end{document}
