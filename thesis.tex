\documentclass[]{nsm-thesis}
% options:
% [germanthesis] - Thesis is written in German
% [plainunnumbered] - Don't print numbers on plain pages
% [earlydraft] - Settings for quick draft printouts
% [watermark] - Print current time/date at bottom of each page
% [phdthesis] - switch to PhD thesis style
% [twoside] - double sided
% [cutmargins] - text body fills complete page

% Author name. Separate multiple authors with commas.

\usetikzlibrary{quotes,angles}
\usepackage{nicefrac}
\usepackage{comment}
\usetikzlibrary{shapes, arrows, positioning}

\author{Karl Christian Lautenschläger}
\birthday{29. Juni 1998}
\birthplace{Magdeburg}

% Title of your thesis.
\title{Suitability of Modern Wi-Fi for Wireless-Infield-Communication of Agricultural Machines}

% Choose one of the following lines, changing the word "Computer Science" to match your degree program.
\thesistype{Diploma Thesis in Information Systems Engineering}\thesiscite{Diploma Thesis~(Diplomarbeit)}

\advisors{Christoph Sommer}
% List of advisors (without academic titles), separated by commas.

% List of referees (without academic titles), separated by commas.
\referees{Christoph Sommer, Burkhard Hensel}

\DeclareAcronym{FH}{
	short=FH,
	long=Forage Harvester,
}
\DeclareAcronym{CH}{
	short=CH,
	long=Combine Harvester,
}
\DeclareAcronym{GPS}{
	short=GPS,
	long=Global Positioning System,
}
\DeclareAcronym{STA}{
	short=STA,
	long=station,
}
\DeclareAcronym{TM}{
	short=TM,
	long=Transport Machine,
}
\DeclareAcronym{BCC}{
	short=BCC,
	long=binary convolutional coding,
}
\DeclareAcronym{ER}{
	short=ER,
	long=Extended Range,
}
\DeclareAcronym{MU}{
	short=MU,
	long=Multi-User,
}
\DeclareAcronym{SU}{
	short=SU,
	long=Single-User,
}
\DeclareAcronym{LDPC}{
	short=LDPC,
	long=low-density parity-check,
}
\DeclareAcronym{HT}{
	short=HT,
	long=High-Throughput,
}
\DeclareAcronym{VHT}{
	short=VHT,
	long=Very-High-Throughput,
}
\DeclareAcronym{HE}{
	short=HE,
	long=High-Efficiency,
}
\DeclareAcronym{PER}{
	short=PER,
	long=packet error rate,
}
\DeclareAcronym{BW}{
	short=BW,
	long=bandwidth,
}
\DeclareAcronym{FEC}{
	short=FEC,
	long=Forward Error Correction,
}
\DeclareAcronym{WPA}{
	short=WPA,
	long=Wi-Fi Protected Access,
}

\DeclareAcronym{DCF}{
	short=DCF,
	long=Distribution Coordination Function,
}
\DeclareAcronym{DIFS}{
	short=DIFS,
	long=Distributed Coordination Function Interframe Space,
}
\DeclareAcronym{SSID}{
	short=SSID,
	long=Service Set Identifier,
}
\DeclareAcronym{SIFS}{
	short=SIFS,
	long=Short Interframe Space,
}
\DeclareAcronym{ACK}{
	short=ACK,
	long=Acknowledgement,
}
\DeclareAcronym{NAV}{
	short=NAV,
	long=Network Allocation Vector,
}
\DeclareAcronym{PCF}{
	short=PCF,
	long=Point Coordination Function,
}
\DeclareAcronym{CSMACA}{
	short=CSMA/CA,
	long=Carrier Sense Multiple
	Access/Collision Avoidance,
}

\DeclareAcronym{IBSS}{
	short=IBSS,
	long=Independent Basic Service Set,
}
\DeclareAcronym{AP}{
	short=AP,
	long=Access Point,
}
\DeclareAcronym{PD}{
	short=PD,
	long=Plant Density,
}
\DeclareAcronym{WIC}{
	short=WIC,
	long=Wireless-Infield Communication,
}
\DeclareAcronym{M2M}{
	short=M2M,
	long=Machine-To-Machine,
}

\DeclareAcronym{MIMO}{
	short=MIMO,
	long=Multiple Input Multiple Output,
}
\DeclareAcronym{STBC}{
	short=STBC,
	long=Space-Time-Block-Code,
}
\DeclareAcronym{PPDU}{
	short=PPDU,
	long=Physical layer convergence protocol data unit,
}
\DeclareAcronym{MCS}{
	short=MCS,
	long=Modulation
	and Coding Scheme,
}
\DeclareAcronym{CR}{
	short=CR,
	long=Coding Rate,
}
\DeclareAcronym{GI}{
	short=GI,
	long=Guard Interval,
}
\DeclareAcronym{DCM}{
	short=DCM,
	long=Dual Carrier Modulation,
}
\DeclareAcronym{MANET}{
	short=MANET,
	long=Mobile Ad Hoc Network
	and Coding Scheme,
}  

\DeclareAcronym{ASC}{
	short=ASC,
	long=Automatic Section Control,
}
\DeclareAcronym{m-ASC}{
	short=m-ASC,
	long=Meshed Automatic Section Control,
}
\DeclareAcronym{AEF}{
	short=AEF,
	long=Agricultural Industry Electronics Foundation,
}
\DeclareAcronym{FMIS}{
	short=FMIS,
	long=Farm Management Information System,
}
\DeclareAcronym{hTMM}{
	short=hTMM,
	long=Hybrid Threat Modeling Method,
}
\DeclareAcronym{STRIDE}{
	short=STRIDE,
	long= Spoofing\, Tampering\, Repudiation\, Information disclosure\, Denial of services\, and Escalation
	of privileges,
}
\DeclareAcronym{PASTA}{
	short=PASTA,
	long= Process for Attack Simulation and Threat Analysis,
}

\DeclareAcronym{ac}{
	short=802.11ac,
	long= IEEE 802.11ac,
}

\DeclareAcronym{ax}{
	short=802.11ax,
	long= IEEE 802.11ax,
}

\DeclareAcronym{UDP}{
	short=UDP,
	long= User Datagram Protocol,
}

\DeclareAcronym{OFDMA}{
	short=OFDMA,
	long= Orthogonal Frequency-Division Multiple Access,
}
\DeclareAcronym{OFDM}{
	short=OFDM,
	long= Orthogonal Frequency-Division Multiplexing,
}
\DeclareAcronym{RU}{
	short=RU,
	long= Resource Unit,
}
\DeclareAcronym{SINR}{
	short=SINR,
	long= Signal-to-Interference-plus-Noise Ratio,
}
\DeclareAcronym{QAM}{
	short=QAM,
	long=Quadrature Amplitude Modulation,
}
\DeclareAcronym{PSK}{
	short=PSK,
	long=Phase Shift Keying,
}
\DeclareAcronym{RSS}{
	short=RSS,
	long=Received Signal Strength,
}
\DeclareAcronym{LoS}{
	short=LoS,
	long=Line-Of-Sight,
}
\DeclareAcronym{SNR}{
	short=SNR,
	long=Signal Noise Ratio,
}
\DeclareAcronym{PDR}{
	short=PDR,
	long=Packet Delivery Ratio,
}
\DeclareAcronym{LOS}{
	short=LOS,
	long=Line-of-sight,
}
\DeclareAcronym{ESS}{
	short=ESS,
	long=Extended Service Set,
}
\DeclareAcronym{BSS}{
	short=BSS,
	long=Basic Service Set,
}
\DeclareAcronym{V2X}{
	short=V2X,
	long=Vehicle-to-everything,
}
\DeclareAcronym{EDCA}{
	short=EDCA,
	long=Enhanced Distributed Channel Access,
}



% Define abbreviations used in the thesis here.
\acrodef{WSN}{Wireless Sensor Network}

\acrodef{ROI}{Region of Interest}{short-indefinite={an}, long-plural-form={Regions of Interest}}
\acrodef{ADAC}{German Automobile Association}{foreign={Allgemeiner Deutscher Automobilclub}}
\acrodef{CANhashing}[CAN]{Content Addressable Network}{extra={when referring to the distributed hash table}}
\acrodef{CANproto}[CAN]{Controller Area Network}{extra={when referring to the bus protocol}}

\begin{document}

\pagenumbering{roman}

\maketitle

\cleardoublepage

\TODO{This template is for use with \texttt{pdflatex} and \texttt{biber}. It has been tested with TeX~Live 2020 (as of 25 Oct 2020).}

\chapter*{Abstract}
\addcontentsline{toc}{chapter}{Abstract}
\begin{otherlanguage*}{american}

about 1/2 page:
\begin{enumerate}
    \item Motivation (Why do we care?)
    \item Problem statement (What problem are we trying to solve?)
    \item Approach (How did we go about it)
    \item Results (What's the answer?)
    \item Conclusion (What are the implications of the answer?)
\end{enumerate}

The abstract is a miniature version of the thesis.
It should be treated as an entirely separate document.
Do not assume that a reader who has access to an abstract will also have access to the thesis.
Do not assume that a reader who reads the thesis has read the abstract.

\end{otherlanguage*}


\chapter*{Kurzfassung}
\addcontentsline{toc}{chapter}{Kurzfassung}
\begin{otherlanguage*}{ngerman}

Gleicher Text (sinngemäß, nicht wörtlich) in Deutsch

\end{otherlanguage*}
\acresetall

\cleardoublepage
\tableofcontents
\TODO{The table of contents should fit on one page. When in doubt, adjust the \texttt{tocdepth} counter.}

\cleardoublepage
\pagenumbering{arabic}


\chapter{Introduction}
%\chapter{Einleitung}
\label{sec:introduction}
\input{introduction}

\chapter{Fundamentals}
\label{sec:fundamentals}



\begin{itemize}
\item describe methods and techniques that build the basis of your work
\item include what's needed to understand your work (e.g., techniques, protocols, models, hardware, software, ...)
\item exclude what's not (e.g., anything you yourself did, anything your reader can be expected to know, ...)
\item review related work(!)
\item recommended length: approximately one third of the thesis.
\end{itemize}

\section{\acl{WIC}}

\input{wic}

\input{cornHarvest}

\section{Wireless Lans according to IEEE 802.11}
According to \textcite{kauffels_wireless_2002} the first version of the Standard IEEE 802.11 was published in 1999 to enable a wireless alternative to Ethernet - or Token-Ring - networks.
\textcite{sauter_wireless_2022} considers IEEE 802.11 also to be an implementation of Ethernet with the help of wirless radio technologies.
The author lists the extensions to the original standard, which range from 802.11b, 802.11g, 802.11a, 802.11n, 802.11ac to the latest enhancement 802.11ax. The different IEEE 802.11 standards can operate in the  \SI{2.4}{\giga\hertz} - , \SI{5}{\giga\hertz} and \SI{6}{\giga\hertz} - frequency band.
IEEE 802.11n is also known as \ac{HT} Wi-Fi, IEEE 802.11ac as \ac{VHT} Wi-Fi \cite{noauthor_ieee_2021-1} and IEEE 802.11ax as \ac{HE} Wi-Fi \cite{noauthor_ieee_2021}. The standards are known by these names. In addition, they are also called Wi-Fi 4, Wi-Fi 5 and Wi-Fi 6 respectively.
\textcite{jacob_system-level_2020} fügt dazu noch hinzu, dass es zusätzlich noch die zwei Erweiterungen IEEE 802.11p and dessen Nachfolger IEEE 802.11bd gibt. Diese operieren in einem reservierten Frequency spectrum for \ac{V2X} nach den Autoren im  \SI{5.9}{\giga\hertz} frequency spectrum

\textcite{kauffels_wireless_2002} defines the following three basic architectures for IEEE 802.11.

If two or more stations communicate directly without an AP, they form an ad hoc network. According to the author, this can be set up quickly and easily and is also called \ac{IBSS}.

The Infrastructure \ac{BSS} mode allows all stations within the range of defined range around the \ac{AP} to communicate via a central \ac{AP}. Within the area of the \ac{BSS}, all stations can move freely and communicate with one another.

Since an \ac{AP} has limited range and can only cover a certain area, the \ac{ESS} was introduced. It contains a distribution system, which links several \ac{BSS} with each other.

Thereby, the BSS coverage areas can physically overlap so that continuous connection of stations within the ESS can be provided. For a better performance the \ac{BSS} can be placed physically on top of each other. One can also have physically separate \ac{BSS}s so that these \ac{BSS}s can be linked together over long distances. According to the author, the standard does not specify a distance limit for such connections. 

He also mentions, that the standard defines the following three mobility types for station in an \ac{ESS}, where a station can do no-transition and thereby stay within a \ac{BSS}, \ac{BSS}-transitioning and move from one \ac{BSS} to another \ac{BSS} within the same \ac{ESS} and \ac{ESS}-transition, where the Station moves from a \ac{ESS} to another one but no stable connection can be guaranteed.

\textcite{sauter_wireless_2022} adds, that usually Ethernet is used to link \ac{AP}s in within an \ac{ESS}. But according to the author this can be replaced by a wireless connection, which is called wireless bridge.

To enable communication between Wifi devices, the IEEE 802.11 standard defines the following layers of the OSI model. The first layer is the physical layer.


\TODO{Sauter 2022 Ad-Hoc Infos}
\input{wiFiphy}

\input{wifiMac}




\input{80211ax_ac}

\begin{comment}
	\section{Modell für drahtlose Übertragungssysteme}
Abb 2.3.1  Modell einen Übertragungssystems
Beschränkungen und Regelungen Frequenzwahl, Sendeleistung
Analoger Kanal Störungen: thermisches Rauschen, Nebensprechen, Impulsstörungen
\fi

\end{comment}

\section{Related Work}
\input{relatedWorkWIC}


\input{cornHarvestData}

\chapter{Field Measurements}

\begin{comment}
	Netcat not working no interval but connection setup easy. maybe something else

iperf run unlimited?


\end{comment}

\input{fieldexperiment}




\todo[color=yellow]{Describe Mistakes? }

\begin{comment}
\chapter{Developed architecture / System design / Implementation / ...}

\begin{itemize}
\item describe everything you yourself did (as opposed to the fundamentals chapter, which explains what you built on)
\item start with a theoretical approach
\item describe the developed system/algorithm/method from a high-level point of view
\item go ahead in presenting your developments in more detail
\item recommended length: approximately one third of the thesis.
\end{itemize}
\end{comment}


\chapter{Simulation}
Seite 77 von 93 02 simulation.pdf
Propagation Model:
 Two Ray Ground only mathematics Rappaport
 Jakes Model
 Three Log Distance
 
 
 Data Simulation
 
 
 
\todo{QUESTIONS open 7 Möglichkeiten outdoor wifi
was für Effecte}

\todo{
Robustheit: Matlab? 
Goodput: ns3
Range: Matlab? Somehow? overview
other papers? 
Enough?
}
Im folgenden möchte ich den Einfluss der verschiedenen Parameter auf die Robustheit und den Goodput untersuchen. Da wie beschrieben, die vorhandene Technik nicht
gezielt angesteuert werden kann, um die Einflüsse der Parameter zu untersuchen, wird eine Simulation durchgeführt. Weitere Vorteile, sind die flexibilität und die
Möglichkeit verschiedene Communication Protocol und network protocols zu simulieren \cite{ComparativeStudyKumar}.

\textcite{OmarHESurvey} unterscheidet dabei für die Simulation von HE wireless networks zwischen Link-Level Simulations and System-Level Simulations. Beide Methoden erklären die Autoren, wie folgt.

Link-Level Simulations untersuchen den Autoren nach die performance des HE physical layer für verschiedene physical layer parameter als \ac{PER} in regards to \ac{SNR}. Als Beispiel nehmen die Autoren die Simulation von \textcite{201} für PER in regards to SNR and chosen MCS.

Für System-Level Simulation benötigt es Abtractionen des physical und des MAC layers, um auf dieser Basis ein system close to real zu simulieren.

Für die Simulation von Wifi gibt es bereits verschiedene Tools, wie z.B. Matlab, ns-2 und ns-3, OMNeT++ oder Qualnet.

\cite{SimulationWifiMesh}
Ns-3 wurde bereits in \cite{ComparativeStudyKumar} und \cite{SimulationWifiMesh} verwendet für die Simulation von Wi-Fi networks. \textcite{} und ist daher für die Simulation von Wifi 6 geeignet.
Da ns-3 eine Open Source Software ist, die auch für die
Simulation von 802.11ax geeignet ist, wird diese für die Simulation verwendet. Die Simulation wird in der Programmiersprache C++ durchgeführt.


 
\subsubsection*{ns-3 Network Simulator}

Bei der Wahl der Network Simulator Wifi 6 Implementierungen 


\todo{Warum nicht was anderes GNS3, MININET, ... ?}

In the doc folder of  \cite{noauthor_files_nodate} findet man die folgenden Informationen über ns-3.
ns-3 is a discrete-event network simulator project, which was founded in 2006.
The ns-3 project is open source with a licence based on n GNU GPLv2 compatibility.
It aims to procide an open, extensible network simulator for research and educational use. Ns-3 scripts can be written in C++ or Python.
ns-API Python uses models in C++
build system Cmake

ATM no pre-built libraries and packages for operating systems
 
The concept of ns3 is based on the abstraction of simulated systems.
For this purpose, the term node was introduced for basic computing devices. The Node class offers the possibility to
install protocol stacks and applications or to add peripheral cards and mobility models to the node.
Applications are the abstraction of the user-level applications, which represent an activity to be simulated.
For this purpose, the applications use resources and functionalities provided by the system software of a node.

Every node gets network access via the Net Device class. The Net Device class represents the physical interface of a node,
which can be Network Interface card or peripheral card. The Net Device simulates the software driver and the hardware of the network interface.

Every Net Device is connected to a channel. The channel class represents the physical medium, which is used to transmit data. The channel behaviour is based
on the channel model, which may include interference, propagation delay and loss.

Für die aktuelle Version ns-3.37 wird IEEE 802.11ax als Standard im Infrastructure und Adhoc Mode unterstützt \footnote{\url{https://www.nsnam.org/docs/models/html/wifi-design.html}}.
Jedoch ist die Unterstützung für den 802.11ax standard noch nicht vollständig. So kann man bereits DCM und STBC konfigurieren, jedoch findet man die den Kommentar in Zeile 496 von der Datei he-ppdu.cc, dass diese noch nicht in der aktuellen Version 3.37 für beachtet werden \footnote{https://www.nsnam.org/docs/models/html/wifi-user.html}.

Bei der Untersuchung der Implementierung von 802.11ax in ns-3, fällt auf, dass die Implementierung von 802.11ax in ns-3 auf, dass bereits eine HE ER SU \ac{PPDU} Preamble implementiert ist, welche jedoch nie genutzt wird und man den Extended Range Mode
den nicht aktivieren kann. Die Implementierung von 802.11ax in ns-3 ist also noch nicht vollständig und es gibt noch einige offene Punkte, die in der Zukunft noch implementiert werden müssen.

\textcite{black_netsimulyzer_2021} haben eine 3D Visualisierung von ns-3 entwickelt, welche die Simulationen in 3D visualisiert, um die ns-3 simulation
scenarios greifbar zu machen. Die grafische Erweiterung der Autoren besteht aus zwei open source Programmen. Das 
NetSimulyzer ns-3 module \footnote{https://github.com/usnistgov/NetSimulyzer-ns3-module} lässt sich in die ns-3 Simulation integieren und baut über die spezifizierten Funktionen und Configurationen
eine JSON Datei. Diese beinhaltet alle benötigten Daten für die Visualisierung in der NetSimulyzer \footnote{\url{https://github.com/usnistgov/NetSimulyzer}}

\input{dataRate}
Robustness?

\input{robustness}


\begin{comment}
	Fixed Wifi 6 devices: 4 Streams, 2.4, 5.0 Ghz
Fixed Wifi bd devices: 1 Stream, 5.9 Ghz,

Leave it open for future work?
look for different chips?

Auf different paper stützen?


\end{comment}

\section{Platooning Services}

\input{platooning}
\chapter{Evaluation}


\begin{itemize}
\item measurement setup / results / evaluation / discussion
\item whatever you have done, you must comment it, compare it to other systems, evaluate it
\item usually, adequate graphs help to show the benefits of your approach
\item each result/graph must not only be described, but also discussed (What's the reason for this peak? Why have you observed this effect? What does this tell about your architecture/system/implementation?)
\item recommended length: approximately one third of the thesis.
\end{itemize}



\chapter{Conclusion}


\begin{itemize}
\item summarize again what your paper did, but now emphasize more the results, and comparisons
\item write conclusions that can be drawn from the results found and the discussion presented in the paper
\item future work (be very brief, explain what, but not much how, do not speculate about results or impact)
\item recommended length: one page.
\end{itemize}

Untersuchen, welche Routing protocols

\cleardoublepage

\listofabbreviations
\clearpage

\listoffigures
\clearpage

\listoftables
\clearpage

\printbibliography

\end{document}
